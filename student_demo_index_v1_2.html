
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Signal & Support ‚Äî Student Demo (Standalone v1.2)</title>
  <meta name="description" content="Student-path demo (no storage, no backend). Chromebook-friendly.">
  <style>
    :root{
      --mango:#FFB84C; --sky:#6EC8FF; --lav:#C7A3FF; --mint:#7DE1C1; --coral:#FF6F61;
      --navy:#1E2A38; --navy60:rgba(30,42,56,.6); --soft:#F4F4F7; --white:#fff;
      --focus:#6EC8FF; --shadow:0 6px 20px rgba(0,0,0,.08);
      --radius-12:12px; --radius-16:16px; --radius-20:20px;
    }
    html,body{height:100%;}
    body{margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--navy); background:var(--soft);}    
    .app{max-width:1280px; min-height:100vh; margin:0 auto; display:flex; flex-direction:column;}
    header.appbar{height:72px; background:var(--white); display:flex; align-items:center; justify-content:space-between; padding:0 24px; box-shadow:var(--shadow); position:sticky; top:0; z-index:3}
    .brand{font-weight:600}
    .row{display:flex; gap:12px; align-items:center}
    .btn{appearance:none; border:0; border-radius:var(--radius-16); padding:14px 22px; font-weight:600; cursor:pointer; transition:transform .15s ease, background .15s ease, color .15s ease;}
    .btn:focus-visible{outline:3px solid var(--focus); outline-offset:2px}
    .btn.primary{background:var(--mango); color:var(--white)}
    .btn.secondary{background:var(--lav); color:var(--navy)}
    .btn.ghost{background:transparent; color:var(--navy); border:2px solid rgba(30,42,56,.12)}
    .btn:disabled{opacity:.5; cursor:not-allowed}
    main{flex:1; display:flex; flex-direction:column;}
    .content{width:100%; max-width:1040px; margin:0 auto; padding:24px;}
    .title{font-size:24px; font-weight:800; margin:16px 0 8px}
    .subtitle{color:var(--navy60); margin:0 0 16px}
    .grid{display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:24px}
    .tile{background:var(--white); border-radius:var(--radius-20); padding:16px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; border:2px solid rgba(30,42,56,.08); min-height:160px}
    .tile[aria-pressed="true"], .tile.selected{border-color:var(--sky); background:rgba(110,200,255,.18)}
    .tile .emoji{font-size:56px; line-height:1}
    .tile button{all:unset}
    .tile:focus-visible{outline:3px solid var(--focus); outline-offset:2px}
    .list{display:flex; flex-direction:column; gap:12px}
    .chip{background:var(--white); border-radius:var(--radius-16); border:2px solid rgba(30,42,56,.12); padding:16px 18px; display:flex; justify-content:space-between; align-items:center;}
    .chip[aria-checked="true"]{border-color:var(--sky); background:rgba(110,200,255,.18)}
    .card{background:var(--white); border-radius:var(--radius-16); box-shadow:var(--shadow); padding:18px;}
    .pill{display:inline-block; background:var(--mint); color:var(--navy); padding:4px 10px; border-radius:999px; font-weight:700; font-size:12px}
    .footerbar{height:100px; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:0 24px; background:var(--white); box-shadow:var(--shadow); position:sticky; bottom:0;}
    .hidden{display:none !important}

    /* Modal */
    .modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.25); display:flex; align-items:center; justify-content:center; z-index:5}
    .modal{background:var(--white); border-radius:var(--radius-16); padding:20px; width:min(720px, 92vw); box-shadow:var(--shadow)}

    /* Reduced motion */
    .animated{animation: floaty 3s ease-in-out infinite}
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
    .reduced .animated{animation:none}

    /* Simplified mode: larger targets, fewer columns */
    .simplified .grid{grid-template-columns:repeat(3, minmax(0,1fr))}
    .simplified .tile{min-height:180px}

    /* Small helper */
    .spacer{height:12px}
    .muted{color:var(--navy60)}
    .align-right{margin-left:auto}
    .steps{margin:10px 0 0; padding-left:18px}
    .kbd{padding:2px 6px; border:1px solid rgba(30,42,56,.2); border-radius:6px; background:#fff; font-size:12px}
  </style>
</head>
<body>
  <div class="app" id="app">
    <header class="appbar">
      <div class="row">
        <strong class="brand">Signal &amp; Support</strong>
      </div>
      <div class="row">
        <button class="btn ghost" id="backBtn" aria-label="Go back">Back</button>
        <button class="btn ghost" id="settingsBtn" aria-label="Open settings">‚öôÔ∏è Settings</button>
      </div>
    </header>

    <main>
      <div class="content">
        <!-- Landing -->
        <section data-screen="landing">
          <h1 class="title">Welcome to Signal &amp; Support</h1>
          <p class="subtitle">This demo shows the student path. It does not store data or contact anyone.</p>
          <div class="row" style="gap:16px; flex-wrap:wrap; margin-top:8px">
            <button class="btn primary" data-nav="student-welcome">I am a student</button>
            <button class="btn ghost" disabled title="Adult view not included in this demo">I am a trusted adult</button>
          </div>
        </section>

        <!-- Student Welcome -->
        <section class="hidden" data-screen="student-welcome">
          <h2 class="title">Quick check‚Äëin</h2>
          <p class="subtitle">You can skip any step. You choose what to share.</p>
          <div class="spacer"></div>
          <button class="btn primary" data-nav="emotion">Start</button>
          <button class="btn ghost" id="openTransparency" style="margin-left:12px">What adults will see</button>
        </section>

        <!-- Emotion (now MULTI-select) -->
        <section class="hidden" data-screen="emotion">
          <h2 class="title">What feelings are closest right now?</h2>
          <p class="subtitle">Pick as many as you want, or skip.</p>
          <div class="grid" id="emotionGrid"></div>
        </section>

        <!-- Body sensations (multi-select) -->
        <section class="hidden" data-screen="body">
          <h2 class="title">What is your body telling you?</h2>
          <div class="grid" id="bodyGrid"></div>
          <div class="spacer"></div>
          <button class="btn ghost" id="bodyDontKnow">I don‚Äôt know</button>
        </section>

        <!-- Need (required, single-select) -->
        <section class="hidden" data-screen="need">
          <h2 class="title">What would help you right now?</h2>
          <div class="list" id="needList"></div>
        </section>

        <!-- Tools (show 4 options; titles only; steps hidden until selected) -->
        <section class="hidden" data-screen="tools">
          <h2 class="title">Choose a quick strategy</h2>
          <p class="subtitle">Tap a strategy name to see the steps. You can always try a different one.</p>
          <div id="toolCards" class="grid"></div>
        </section>

        <!-- Send / Preview -->
        <section class="hidden" data-screen="send">
          <h2 class="title">This is what they‚Äôll see</h2>
          <div id="previewCard" class="card" aria-live="polite"></div>
          <div class="spacer"></div>
          <fieldset class="card" style="border:0">
            <legend class="muted">What should be shared?</legend>
            <div class="list">
              <label><input type="radio" name="share" value="need_only" checked> Need only (recommended)</label>
              <label><input type="radio" name="share" value="need_emotion"> Need + feelings</label>
              <label><input type="radio" name="share" value="need_body"> Need + body</label>
              <label><input type="radio" name="share" value="need_all"> Need + both</label>
            </div>
          </fieldset>
        </section>

        <!-- Sent / Confirmation -->
        <section class="hidden" data-screen="sent">
          <h2 class="title">Thanks ‚Äî your request was sent</h2>
          <p class="subtitle">In the real app, an adult would see your need. For this demo, nothing is actually sent.</p>
          <button class="btn primary" data-nav="landing">Done</button>
        </section>
      </div>
    </main>

    <footer class="footerbar">
      <div class="row">
        <button class="btn secondary" id="skipBtn">Skip</button>
      </div>
      <div class="row">
        <button class="btn ghost" id="prevBtn">Back</button>
        <button class="btn primary" id="nextBtn">Next</button>
      </div>
    </footer>
  </div>

  <!-- Transparency modal -->
  <div id="transparencyModal" class="modal-backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="tHeading">
    <div class="modal">
      <h3 id="tHeading" class="title">What adults will see</h3>
      <p class="subtitle">You choose what to share. This demo does not store data.</p>
      <ul>
        <li><strong>Need</strong> (always)</li>
        <li><strong>Feelings</strong> (only if you choose)</li>
        <li><strong>Body sensations</strong> (only if you choose)</li>
      </ul>
      <div class="row" style="justify-content:flex-end; margin-top:12px">
        <button class="btn primary" id="closeTransparency">OK</button>
      </div>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modal-backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="sHeading">
    <div class="modal">
      <h3 id="sHeading" class="title">Settings</h3>
      <div class="list">
        <label class="row" style="justify-content:space-between">
          <span>Simplified mode (fewer, larger choices)</span>
          <input type="checkbox" id="toggleSimplified" />
        </label>
        <label class="row" style="justify-content:space-between">
          <span>Reduced motion</span>
          <input type="checkbox" id="toggleReduced" />
        </label>
        <button class="btn ghost" id="quickHide">Quick hide</button>
      </div>
      <div class="row" style="justify-content:flex-end; margin-top:14px">
        <button class="btn primary" id="closeSettings">Close</button>
      </div>
    </div>
  </div>

  <!-- Tool detail modal -->
  <div id="toolModal" class="modal-backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="toolTitle">
    <div class="modal" style="max-width:720px">
      <h3 id="toolTitle" class="title">Tool</h3>
      <div class="pill" id="toolDuration">~20s</div>
      <ol id="toolSteps" class="steps"></ol>
      <div id="toolCoach" class="subtitle" style="margin-top:8px"></div>
      <div class="row" style="justify-content:space-between; margin-top:14px">
        <div class="row" style="gap:8px">
          <span class="kbd" title="Keyboard shortcut">‚Üê Prev</span>
          <span class="kbd" title="Keyboard shortcut">‚Üí Next</span>
        </div>
        <div class="row" style="gap:8px">
          <button class="btn ghost" id="toolPrev">Previous step</button>
          <button class="btn secondary" id="toolNext">Next step</button>
          <button class="btn primary" id="toolDone">Done</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =========================
    // Demo State (in-memory only)
    // =========================
    const state = {
      screenOrder:["landing","student-welcome","emotion","body","need","tools","send","sent"],
      current: "landing",
      emotions: new Set(), // CHANGED: emotions now multi-select
      body: new Set(),
      need: null,
      shareLevel: "need_only",
      simplified: false,
      reducedMotion: false,
      toolIndex: 0,
      toolOpen: false,
      toolKey: null,
      toolStep: 0,
    };

    // Content Sets (emojis kept inline for portability)
    const EMOTIONS_STD = [
      {id:"happy", label:"Happy", emoji:"üôÇ"},
      {id:"okay", label:"Okay", emoji:"üòê"},
      {id:"worried", label:"Worried", emoji:"üòü"},
      {id:"sad", label:"Sad", emoji:"üò¢"},
      {id:"frustrated", label:"Frustrated", emoji:"üò§"},
      {id:"overwhelmed", label:"Overwhelmed", emoji:"üåÄ"},
      {id:"tired", label:"Tired", emoji:"üò¥"},
      {id:"energetic", label:"Energetic", emoji:"‚ö°"},
    ];
    const EMOTIONS_SIMPLE = EMOTIONS_STD.slice(0,6);

    const BODY_STD = [
      {id:"tight_chest", label:"Tight chest", emoji:"ü§è"},
      {id:"fast_heart", label:"Fast heartbeat", emoji:"‚ù§Ô∏è‚Äçüî•"},
      {id:"butterflies", label:"Butterflies", emoji:"ü¶ã"},
      {id:"stomach_swirl", label:"Stomach feels off", emoji:"üåÄ"},
      {id:"shaky", label:"Shaky", emoji:"ü´®"},
      {id:"tense", label:"Tense muscles", emoji:"üí™"},
      {id:"hot", label:"Hot", emoji:"üî•"},
      {id:"cold", label:"Cold", emoji:"‚ùÑÔ∏è"},
      {id:"head_pressure", label:"Head pressure", emoji:"üí≠"},
      {id:"heavy", label:"Heavy / low energy", emoji:"ü™®"},
      {id:"fidgety", label:"Fidgety", emoji:"üë£"},
      {id:"dizzy", label:"Lightheaded", emoji:"üåÄ"},
    ];
    const BODY_SIMPLE = ["tight_chest","fast_heart","shaky","tense","heavy","fidgety","dizzy","cold"].map(id=>BODY_STD.find(b=>b.id===id));

    const NEEDS = [
      {id:"break", label:"A short break"},
      {id:"help", label:"Help with the work"},
      {id:"move", label:"Move my body"},
      {id:"quiet", label:"Quiet / less noise"},
      {id:"water", label:"Water / bathroom"},
      {id:"talk", label:"Talk to someone"},
      {id:"ok", label:"I‚Äôm okay (just checking in)"},
    ];

    const TOOLS = {
      feet_floor: { title:"Feet on the floor reset", duration:"~20s", steps:["Press your feet into the floor for 5 seconds.","Let go.","Repeat 3 times." ], coach:"Notice how the chair and floor support you." },
      chair_push: { title:"Chair push‚Äëups (quiet power)", duration:"~20s", steps:["Press hands on chair seat.","Hold for 10 seconds.","Release slowly."], coach:"Keep feet flat. Shoulders down and away from ears." },
      five_four: { title:"5‚Äë4‚Äë3‚Äë2‚Äë1 noticing", duration:"~45s", steps:["Name 5 things you see.","4 you feel.","3 you hear.","2 you smell.","1 you taste (or like)."], coach:"Go slow. If one sense is tricky, pick another." },
      cool_touch: { title:"Cool touch reset", duration:"~20s", steps:["Hold something cool for 10 seconds.","Notice the feeling in your hand.","Let your shoulders drop."], coach:"Cold can help your body shift gears." },
      box_breath: { title:"Slow square breath", duration:"~60s", steps:["Inhale 4.","Hold 4.","Exhale 4.","Hold 4."], coach:"If breath feels uncomfortable, choose a non‚Äëbreathing tool." },
    };
    const MAP = {
      break: ["feet_floor","five_four","cool_touch","chair_push"],
      help: ["feet_floor","five_four","chair_push","cool_touch"],
      move: ["chair_push","feet_floor","cool_touch","five_four"],
      quiet:["five_four","feet_floor","box_breath","cool_touch"],
      water:["feet_floor","cool_touch","five_four","chair_push"],
      talk: ["feet_floor","five_four","box_breath","cool_touch"],
      ok:   ["feet_floor","five_four","cool_touch","chair_push"],
    };

    // =========================
    // Helpers
    // =========================
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));
    function goto(screen){
      state.current = screen;
      $$('[data-screen]').forEach(sec=>sec.classList.add('hidden'));
      $(`[data-screen="${screen}"]`).classList.remove('hidden');
      updateNav();
      render();
    }
    function updateNav(){
      const idx = state.screenOrder.indexOf(state.current);
      $('#backBtn').disabled = (idx<=0);
      $('#prevBtn').disabled = (idx<=0);
      $('#skipBtn').disabled = (state.current==="need" || state.current==="send" || state.current==="sent");
      $('#nextBtn').disabled = (state.current==="need" && !state.need) || false;
      $('#nextBtn').textContent = (state.current==="send"? "Send" : "Next");
    }

    function tile(el, selected){ el.setAttribute('aria-pressed', String(!!selected)); }

    function render(){
      document.body.classList.toggle('simplified', state.simplified);
      document.body.classList.toggle('reduced', state.reducedMotion);

      if(state.current==="emotion"){
        const data = state.simplified? EMOTIONS_SIMPLE: EMOTIONS_STD;
        const grid = $('#emotionGrid'); grid.innerHTML='';
        data.forEach(item=>{
          const btn = document.createElement('button');
          btn.className='tile'; btn.setAttribute('role','button'); btn.setAttribute('aria-label', item.label);
          const selected = state.emotions.has(item.id);
          btn.innerHTML = `<div class="emoji">${item.emoji}</div><div>${state.simplified? '' : item.label}</div>`;
          tile(btn, selected);
          btn.addEventListener('click', ()=>{ selected? state.emotions.delete(item.id): state.emotions.add(item.id); render(); });
          grid.appendChild(btn);
        });
      }

      if(state.current==="body"){
        const data = state.simplified? BODY_SIMPLE: BODY_STD;
        const grid = $('#bodyGrid'); grid.innerHTML='';
        data.forEach(item=>{
          const btn = document.createElement('button');
          btn.className='tile'; btn.setAttribute('role','button'); btn.setAttribute('aria-label', item.label);
          const selected = state.body.has(item.id);
          btn.innerHTML = `<div class="emoji">${item.emoji}</div><div>${state.simplified? '' : item.label}</div>`;
          tile(btn, selected);
          btn.addEventListener('click', ()=>{ selected? state.body.delete(item.id): state.body.add(item.id); render(); });
          grid.appendChild(btn);
        });
      }

      if(state.current==="need"){
        const list = $('#needList'); list.innerHTML='';
        NEEDS.forEach(n=>{
          const item = document.createElement('button');
          const selected = state.need===n.id;
          item.className='chip'; item.setAttribute('role','radio'); item.setAttribute('aria-checked', String(selected));
          item.innerHTML = `<span>${n.label}</span><span class="muted">‚Ä∫</span>`;
          item.addEventListener('click', ()=>{ state.need = n.id; updateNav(); render(); });
          list.appendChild(item);
        });
      }

      if(state.current==="tools"){
        const wrap = $('#toolCards'); wrap.innerHTML='';
        const key = state.need || 'ok';
        const picks = MAP[key] || MAP.ok;
        // show EXACTLY 4 options, titles only
        const show = picks.slice(state.toolIndex % picks.length).concat(picks).slice(0,4);
        show.forEach(id=>{
          const t = TOOLS[id];
          const card = document.createElement('button');
          card.className='card';
          card.style.textAlign='left';
          card.setAttribute('aria-label', `${t.title}, ${t.duration}`);
          card.innerHTML = `
            <div class="row" style="justify-content:space-between; align-items:center">
              <div class="title" style="margin:0">${t.title}</div>
              <div class="pill">${t.duration}</div>
            </div>
          `;
          card.addEventListener('click', ()=> openTool(id));
          wrap.appendChild(card);
        });
      }

      if(state.current==="send"){
        const radios = document.querySelectorAll('input[name="share"]');
        radios.forEach(r=>{ r.checked = (r.value===state.shareLevel); r.onchange = ()=>{ state.shareLevel = r.value; render(); }; });
        const preview = $('#previewCard');
        const needObj = NEEDS.find(n=>n.id===state.need);
        const emoLabels = Array.from(state.emotions).map(id=>{
          const all = [...EMOTIONS_STD, ...EMOTIONS_SIMPLE];
          const e = all.find(x=>x.id===id); return e? e.label: id;
        });
        const bodies = Array.from(state.body).map(id=>{
          const all = [...BODY_STD, ...BODY_SIMPLE];
          const b = all.find(x=>x.id===id); return b? b.label: id;
        });
        const parts = [`<strong>Need:</strong> ${needObj? needObj.label: '‚Äî'}`];
        if(state.shareLevel==="need_emotion" || state.shareLevel==="need_all"){ parts.push(`<strong>Feelings:</strong> ${emoLabels.length? emoLabels.join(', '): '‚Äî'}`); }
        if(state.shareLevel==="need_body" || state.shareLevel==="need_all"){ parts.push(`<strong>Body:</strong> ${bodies.length? bodies.join(', '): '‚Äî'}`); }
        preview.innerHTML = `<div class="list">${parts.map(p=>`<div>${p}</div>`).join('')}</div>`;
      }
    }

    // Toast
    let toastEl; function toast(msg){ if(!toastEl){ toastEl=document.createElement('div'); Object.assign(toastEl.style,{position:'fixed',left:'50%',bottom:'24px',transform:'translateX(-50%)',background:'#fff',border:'2px solid rgba(30,42,56,.12)',borderRadius:'12px',padding:'10px 14px',boxShadow:'var(--shadow)',zIndex:9}); document.body.appendChild(toastEl);} toastEl.textContent=msg; toastEl.classList.remove('hidden'); setTimeout(()=>toastEl.classList.add('hidden'),1600); }

    // Tool modal logic
    const toolModal = $('#toolModal');
    const toolTitle = $('#toolTitle');
    const toolDuration = $('#toolDuration');
    const toolSteps = $('#toolSteps');
    const toolCoach = $('#toolCoach');

    function openTool(key){ const t=TOOLS[key]; if(!t) return; state.toolOpen=true; state.toolKey=key; state.toolStep=0; toolTitle.textContent=t.title; toolDuration.textContent=t.duration; renderToolStep(); toolModal.classList.remove('hidden'); setTimeout(()=>{ const first=toolSteps.querySelector('li'); if(first) first.focus(); }, 10); }
    function closeTool(){ state.toolOpen=false; state.toolKey=null; toolModal.classList.add('hidden'); }
    function renderToolStep(){ const t=TOOLS[state.toolKey]; toolSteps.innerHTML=''; t.steps.forEach((s,i)=>{ const li=document.createElement('li'); li.tabIndex=0; li.textContent=s; if(i===state.toolStep){ li.style.fontWeight='700'; } toolSteps.appendChild(li); }); toolCoach.textContent=t.coach||''; $('#toolPrev').disabled = state.toolStep<=0; $('#toolNext').disabled = state.toolStep >= (t.steps.length-1); }
    $('#toolPrev').addEventListener('click', ()=>{ if(state.toolStep>0){ state.toolStep--; renderToolStep(); }});
    $('#toolNext').addEventListener('click', ()=>{ const t=TOOLS[state.toolKey]; if(state.toolStep < t.steps.length-1){ state.toolStep++; renderToolStep(); }});
    $('#toolDone').addEventListener('click', ()=>{ closeTool(); toast('Nice job. When you‚Äôre ready, go to Next.'); });
    window.addEventListener('keydown', (e)=>{ if(!state.toolOpen) return; if(e.key==='ArrowRight'){ e.preventDefault(); $('#toolNext').click(); } if(e.key==='ArrowLeft'){ e.preventDefault(); $('#toolPrev').click(); } if(e.key==='Escape'){ e.preventDefault(); closeTool(); }});

    // Navigation wiring
    function next(){ const idx=state.screenOrder.indexOf(state.current); const next=state.screenOrder[idx+1]||state.current; if(state.current==="need" && !state.need){ return; } if(state.current==="send"){ goto('sent'); return; } goto(next); }
    function prev(){ const idx=state.screenOrder.indexOf(state.current); const prev=state.screenOrder[idx-1]||state.current; goto(prev); }
    $('#nextBtn').addEventListener('click', next);
    $('#prevBtn').addEventListener('click', prev);
    $('#skipBtn').addEventListener('click', ()=>{ if(state.current==="emotion") goto('body'); else if(state.current==="body") goto('need'); });
    $('#backBtn').addEventListener('click', prev);

    $$('[data-nav]').forEach(b=> b.addEventListener('click', ()=> goto(b.dataset.nav)));
    $('#bodyDontKnow').addEventListener('click', ()=>{ state.body.clear(); next(); });

    // Transparency modal
    const tModal = $('#transparencyModal'); $('#openTransparency').addEventListener('click', ()=> tModal.classList.remove('hidden')); $('#closeTransparency').addEventListener('click', ()=> tModal.classList.add('hidden'));

    // Settings modal
    const sModal = $('#settingsModal'); $('#settingsBtn').addEventListener('click', ()=> sModal.classList.remove('hidden')); $('#closeSettings').addEventListener('click', ()=> sModal.classList.add('hidden')); $('#toggleSimplified').addEventListener('change', e=>{ state.simplified = e.target.checked; render(); }); $('#toggleReduced').addEventListener('change', e=>{ state.reducedMotion = e.target.checked; render(); }); $('#quickHide').addEventListener('click', ()=>{ state.emotions.clear(); state.body.clear(); state.need=null; state.shareLevel='need_only'; goto('landing'); sModal.classList.add('hidden'); });

    // Start
    goto('landing');
  </script>

  <!-- README (inline)
  How to publish on GitHub Pages:
   1) Create a new public repo and upload this file as index.html
   2) Settings ‚Üí Pages ‚Üí Deploy from a branch (main / root)
   3) Wait ~60 seconds ‚Üí https://YOUR-USERNAME.github.io/REPO/
  Notes:
   ‚Ä¢ v1.2 changes: Emotion is multi-select; Need chip visual updates; Tools show 4 titles only; clicking opens step-by-step modal; no storage, no network.
  -->
</body>
</html>
